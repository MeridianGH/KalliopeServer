{"version":3,"file":"websocketServer.js","sourceRoot":"","sources":["websocketServer.ts"],"names":[],"mappings":"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"}